mse version: 2.0.0
game: magic
short name: showcase集合
full name: showcase mix
icon: card-sample.png
installer group: magic/m15 style/normal cards
position hint: 001

version: 2021-02-16
depends on:
	package: magic.mse-game
	version: 2014-06-25
depends on:
	package: magic-default-image.mse-include
	version: 2007-09-23
depends on:
	package: magic-watermarks.mse-include
	version: 2007-09-23
depends on:
	package: magic-identity-new.mse-include
	version: 2012-01-22
depends on:
	package: magic-mana-large.mse-symbol-font
	version: 2007-09-23
depends on:
	package: magic-mana-small.mse-symbol-font
	version: 2007-09-23
depends on:
	package: magic-mainframe-extras.mse-include
	version: 2007-09-23
depends on: 
	package: magic-rarity.mse-include
	version: 2013-08-21
card width: 750
card height: 1050
card dpi: 600

####### images from digiman
############################################################## Extra scripts
init script:
	# Load scripts for image box
	include file: /magic-default-image.mse-include/scripts
	
	# Should hybrids have a grey name?
	mask_hybrid_with_land := { styling.grey_hybrid_name }
	
	#Should multicolor lands with basic land types have a colored name?
	mask_multi_land_with_color := { styling.colored_multicolor_land_name }
	
	template_prefix_normal := [
	exp:"expedition/exp/" znr:"expedition/znr/" 
	neon:"neon/" neon2:"neon/back/" 
	ninja:"ninja/" samurai:"samurai/"

	phyrexiancrown:"phyrexian/crown/"

	equinox:"equinox/" equinoxpt:"equinox/pt/"

	magicfest:"magicfest/" magicfestcrown:"magicfest/crown/" magicfeststamp:"magicfest/stamp/"
	
	etched: "etched/" etchedcrown:"etched/crown/" etchedpt:"etched/pt/" etchedstamp:"etched/stamp/"

	artdecocrown:"artdeco/crown/" artdecopt:"artdeco/pt/"

	fang:"fang/" fangcrown:"fang/crown/" fangpt:"fang/pt/"

	ixalan:"ixalan/" ixalancrown:"ixalan/crown/" ixalanpt:"ixalan/pt/"

	tarkir:"tarkir/" tarkircrown:"tarkir/crown/" tarkirpt:"tarkir/pt/"

	crystalcrown:"crystal/crown/" crystalpt:"crystal/pt/"

	invocation:"invocation/"

	glass:"glass/" glasscrown:"glass/crown/" glasspt:"glass/pt/"

	ring:"ring/" ringcrown:"ring/crown/" ringpt:"ring/pt/"

	tardis:"tardis/" tardiscrown:"tardis/crown/"

	ravnica:"ravnica/" ravnicacrown:"ravnica/crown/" ravnicapt:"ravnica/pt/" ravnicatwins:"ravnica/twins/"
	archive:"archive/" archivecrown:"archive/crown/" archivept:"archive/pt/" archivetwins:"archive/twins/"

	storybook:"storybook/" storybookcrown:"storybook/crown/" storybookpt:"storybook/pt/"
	storyadv:"storybook/adventure/" storyadvlp:"storybook/adventure/lp/"
	talept:"tale/pt/"

	pipboy:"pipboy/" pipboycrown:"pipboy/crown/"
	
	unstable:"unstable/"
	zdktll:"tll/zdk/" instll:"tll/ins/" thstll:"tll/ths/"
	colorback:"sourcebook/back/"
	identity: "/magic-identity-new.mse-include/"
	]
	
	template_suffix := [
	inv: "card.png"
	exp:"card.png" znr:"card.png" 
	neon: "card.png" neon2:"card.png" 
	ninja:"card.png" samurai:"card.png" 

	phyrexian:"card.png" phyrexiancrown:"crown.png"

	equinox:"card.png" equinoxpt:"pt.png"

	magicfest:"card.png" magicfestcrown:"crown.png" magicfeststamp:"stamp.png"
	
	etched:"card.png" etchedcrown:"crown.png" etchedpt:"pt.png" etchedstamp:"stamp.png"

	artdeco:"card.png" artdecocrown:"crown.png" artdecopt:"pt.png"

	skyscraper:"card.png"

	fang:"card.png" fangcrown:"crown.png" fangpt:"pt.png"

	ixalan:"card.png" ixalancrown:"crown.png" ixalanpt:"pt.png"

	tarkir:"card.png" tarkircrown:"crown.png" tarkirpt:"pt.png"

	crystal:"card.png" crystalcrown:"crown.png" crystalpt:"pt.png"

	invocation:"card.png"

	glass:"card.png" glasscrown:"crown.png" glasspt:"pt.png"

	ring:"card.png" ringcrown:"crown.png" ringpt:"pt.png"

	tardis:"card.png" tardiscrown:"crown.png"

	ravnica:"card.png" ravnicacrown:"crown.png" ravnicapt:"pt.png" ravnicatwins:"card.png"
	archive:"card.png" archivecrown:"crown.png" archivept:"pt.png" archivetwins:"card.png"
	tale:"card.png" talept:"pt.png"

	storybook:"card.png" storybookcrown:"crown.png" storybookpt:"pt.png"
	storyadv:"card.png" storyadvlp:"lp.png"

	pipboy:"card.png" pipboycrown:"crown.png"
	
	unstable:"card.png"
	zdktll:"card.png" instll:"card.png" thstll:"card.png" onetll:"card.png"
	colorback:".jpg"
	crown:"crown.png" pt: "pt.png" identity: "identity.png"
	]
	
	template_prefix_inv := [inv: "invention/back/"]
	template_prefix_inv_rare := [inv: "invention/"]

	template_prefix_phyrexian := [phyrexian: "phyrexian/back/"]
	template_prefix_phyrexian_rare := [phyrexian: "phyrexian/"]

	template_prefix_crystal := [crystal: "crystal/back/"]
	template_prefix_crystal_rare := [crystal: "crystal/"]

	template_prefix_tale := [tale:"tale/back/"]
	template_prefix_tale_rare := [tale:"tale/"]

	template_prefix_artdeco := [artdeco: "artdeco/back/"]
	template_prefix_artdeco_rare := [artdeco: "artdeco/"]

	template_prefix_skyscraper := [skyscraper: "skyscraper/back/"]
	template_prefix_skyscraper_rare := [skyscraper: "skyscraper/"]

	template_prefix_unstable := [unstable: "unstable/back/"]
	template_prefix_unstable_rare := [unstable: "unstable/"]

	template_prefix_pt := [pt: "pt/"]
	template_prefix_pt_neon := [pt: "neon/pt/"]
	template_prefix_pt_ninja := [pt: "ninja/pt/"]
	template_prefix_pt_samurai := [pt: "samurai/pt/"]
	template_prefix_pt_phyrexian := [pt: "phyrexian/pt/"]
	
	template_prefix_crown := [crown:""]
	template_prefix_crown_neon := [crown:"neon/crown/"]
	template_prefix_crown_ninja := [crown:"ninja/crown/"]
	template_prefix_crown_samurai := [crown:"samurai/crown/"]

	template_prefix_onetll_ub := [onetll: "tll/one/ub/"]
	template_prefix_onetll := [onetll: "tll/one/"]
	
	template_prefix := {
		if type == "inv" then
			if (is_rare() and styling.use_holofoil_stamps) then template_prefix_inv_rare else template_prefix_inv
		else if type == "phyrexian" then
			if (is_rare() and styling.use_holofoil_stamps) then template_prefix_phyrexian_rare else template_prefix_phyrexian
		else if type == "crystal" then
			if (is_rare() and styling.use_holofoil_stamps) then template_prefix_crystal_rare else template_prefix_crystal
		else if type == "artdeco" then
			if (is_rare() and styling.use_holofoil_stamps) then template_prefix_artdeco_rare else template_prefix_artdeco
		else if type == "skyscraper" then
			if (is_rare() and styling.use_holofoil_stamps) then template_prefix_skyscraper_rare else template_prefix_skyscraper
		else if type == "unstable" then
			if (is_rare() and styling.use_holofoil_stamps) then template_prefix_unstable_rare else template_prefix_unstable
		else if type == "tale" then
			if (is_rare() and styling.use_holofoil_stamps) then template_prefix_tale_rare else template_prefix_tale
		else if type == "onetll" then
			if (is_ub()) then template_prefix_onetll_ub else template_prefix_onetll
		else if type == "pt" then
			if styling.frames=="neon" then template_prefix_pt_neon
			else if styling.frames=="ninja" then template_prefix_pt_ninja
			else if styling.frames=="samurai" then template_prefix_pt_samurai
			else if styling.frames=="phyrexian" then template_prefix_pt_phyrexian
			else template_prefix_pt 
		else if type == "crown" then
			if styling.frames=="neon" then template_prefix_crown_neon
			else if styling.frames=="ninja" then template_prefix_crown_ninja
			else if styling.frames=="samurai" then template_prefix_crown_samurai
			else template_prefix_crown
		else
			template_prefix_normal 
		}
	  
	template      := { template_prefix()[type] + input + template_suffix[type] }
	land_template := { template_prefix()[type] + (if input == "a" then "c" else input) + (if hasland(type) then "l" else "") + template_suffix[type] }
	
	hasland := {if input == "magicfest" then true else false }
	
	# Use land templates for previews because they show more contrast
	hybrid_previews := "land,hybrid"
	crown_background := { color_background(type:"crown",     base_hybrid:card_hybrid) }

	# Use the normal tap symbol
	mana_t := {
		if      styling.tap_symbol == "old"        then "old"
		else if styling.tap_symbol == "diagonal T" then "older"
		else                                            "new"
	}
	
	# Use guild mana symbols?
	guild_mana := { styling.use_guild_mana_symbols }
	
	# Is the card a promo card?
	is_promo := { styling.promo }
	is_ub := {chosen(styling.others, choice:"universe beyond(For some frames)")}
	is_legend := {set.auto_legends and ( contains(card.super_type, match:"Legendary") or contains(card.super_type, match:"LEGENDARY") or contains(card.super_type, match:"传奇") or contains(card.type, match:"Mewk")) }
	is_vehicle := {contains(card.type, match:"Vehicle") or contains(card.type, match:"载具")}
	is_tll := {styling.frames=="textless land(zendikar)" or styling.frames=="textless land(innistrad)"}
	
	mana_sort := {
		if styling.unsorted_casting_cost then
			input
		else
			sort_text@(order: "XYZI[0123456789]HSCA(WUBRG)")()
	}
	ancestral_mana := { styling.ancestral_mana_symbols }
	has_identity := { styling.color_indicator_dot }
	is_unsorted := {styling.remove_from_autocount}

	shrink_adventure_name := {if styling.shrink_adventure_name_text != "" then to_number(styling.shrink_adventure_name_text) else 0}
	
	invention_background := { color_background(type:"inv",     base_hybrid:card_hybrid) }
	
	goldenage_background := { "goldenage/" + (if (is_rare() and styling.use_holofoil_stamps) then "r_" else "") + (if is_legend() then "legend_" else "") + "frame.png" }
	
	znr_background := { color_background(type:"znr",     base_hybrid:card_hybrid) }
	exp_background := { color_background(type:"exp",     base_hybrid:card_hybrid) }
	
	neon_background := { color_background(type:"neon",     base_hybrid:card_hybrid) }
	neon_background2 := { color_background(type:"neon2",     base_hybrid:card_hybrid) }
	
	ninja_background := { color_background(type:"ninja",     base_hybrid:card_hybrid) }
	samurai_background := { color_background(type:"samurai",     base_hybrid:card_hybrid) }
	
	dndsb_background := { "sourcebook/" + (if (is_rare() and styling.use_holofoil_stamps) then "r_" else "") + "frame.png" }
	color_back_background := { color_background(type:"colorback",     base_hybrid:card_hybrid) }
	
	phyrexian_background := { color_background(type:"phyrexian",     base_hybrid:card_hybrid) }
	phyrexian_crown_background := { color_background(type:"phyrexiancrown",     base_hybrid:card_hybrid) }

	etched_background := { color_background(type:"etched",     base_hybrid:card_hybrid) }
	etched_crown_background := { color_background(type:"etchedcrown",     base_hybrid:card_hybrid) }
	etched_pt_background := { color_background(type:"etchedpt",     base_hybrid:card_hybrid) }
	etched_stamp_background := { color_background(type:"etchedstamp",     base_hybrid:stamp_hybrid) }
	
	
	equinox_background := { color_background(type:"equinox",     base_hybrid:card_hybrid) }
	equinox_pt_background := { color_background(type:"equinoxpt",     base_hybrid:card_hybrid) }

	magicfest_background := { color_background(type:"magicfest",     base_hybrid:card_hybrid) }
	magicfest_crown_background := { color_background(type:"magicfestcrown",     base_hybrid:card_hybrid) }
	magicfeststamp_background := { color_background(type:"magicfeststamp",     base_hybrid:stamp_hybrid) }

	artdeco_background := { color_background(type:"artdeco",     base_hybrid:card_hybrid) }
	artdeco_crown_background := { color_background(type:"artdecocrown",     base_hybrid:card_hybrid) }
	artdeco_pt_background := { color_background(type:"artdecopt",     base_hybrid:card_hybrid) }

	fang_background := { color_background(type:"fang",     base_hybrid:card_hybrid) }
	fang_crown_background := { color_background(type:"fangcrown",     base_hybrid:card_hybrid) }
	fang_pt_background := { color_background(type:"fangpt",     base_hybrid:card_hybrid) }

	ravnica_background := { color_background(type:"ravnica",     base_hybrid:ravnica_hybrid) }
	ravnica_crown_background := { color_background(type:"ravnicacrown",     base_hybrid:ravnica_hybrid) }
	ravnica_pt_background := { color_background(type:"ravnicapt",     base_hybrid:card_hybrid) }
	ravnica_twins_background := { color_background(type:"ravnicatwins",     base_hybrid:card_hybrid) }

	archive_background := { color_background(type:"archive",     base_hybrid:ravnica_hybrid) }
	archive_crown_background := { color_background(type:"archivecrown",     base_hybrid:ravnica_hybrid) }
	archive_pt_background := { color_background(type:"archivept",     base_hybrid:card_hybrid) }
	archive_twins_background := { color_background(type:"archivetwins",     base_hybrid:archive_hybrid) }

	ixalan_background := { color_background(type:"ixalan",     base_hybrid:card_hybrid) }
	ixalan_crown_background := { color_background(type:"ixalancrown",     base_hybrid:card_hybrid) }
	ixalan_pt_background := { color_background(type:"ixalanpt",     base_hybrid:card_hybrid) }

	tarkir_background := { color_background(type:"tarkir",     base_hybrid:card_hybrid) }
	tarkir_crown_background := { color_background(type:"tarkircrown",     base_hybrid:card_hybrid) }
	tarkir_pt_background := { color_background(type:"tarkirpt",     base_hybrid:card_hybrid) }

	crystal_background := { color_background(type:"crystal",     base_hybrid:card_hybrid) }
	crystal_crown_background := { color_background(type:"crystalcrown",     base_hybrid:card_hybrid) }
	crystal_pt_background := { color_background(type:"crystalpt",     base_hybrid:card_hybrid) }

	invocation_background := { color_background(type:"invocation",     base_hybrid:card_hybrid) }

	glass_background := { color_background(type:"glass",     base_hybrid:card_hybrid) }
	glass_crown_background := { color_background(type:"glasscrown",     base_hybrid:card_hybrid) }
	glass_pt_background := { color_background(type:"glasspt",     base_hybrid:card_hybrid) }

	ring_background := { color_background(type:"ring",     base_hybrid:card_hybrid) }
	ring_crown_background := { color_background(type:"ringcrown",     base_hybrid:card_hybrid) }
	ring_pt_background := { color_background(type:"ringpt",     base_hybrid:card_hybrid) }

	tardis_background := { color_background(type:"tardis",     base_hybrid:card_hybrid) }
	tardis_crown_background := { color_background(type:"tardiscrown",     base_hybrid:card_hybrid) }

	skyscraper_background := { color_background(type:"skyscraper",     base_hybrid:card_hybrid) }

	storybook_background := { color_background(type:"storybook",     base_hybrid:ravnica_hybrid) }
	storybook_crown_background := { color_background(type:"storybookcrown",     base_hybrid:card_hybrid) }
	storybook_pt_background := { color_background(type:"storybookpt",     base_hybrid:card_hybrid) }

	storyadv_background := { color_background(type:"storyadv",     base_hybrid:ravnica_hybrid) }
	storyadv_lp_background := { color_background(type:"storyadvlp",     base_hybrid:card_hybrid) }

	tale_background := { color_background(type:"tale",     base_hybrid:card_hybrid) }
	tale_pt_background := { color_background(type:"talept",     base_hybrid:card_hybrid) }


	pipboy_background := { color_background(type:"pipboy",     base_hybrid:card_hybrid) }
	pipboy_crown_background := { color_background(type:"pipboycrown",     base_hybrid:card_hybrid) }

	# texless_background := { color_background(type:"texless",     base_hybrid:card_hybrid) }

	zdktll_background := { color_background(type:"zdktll",     base_hybrid:card_hybrid) }
	instll_background := { color_background(type:"instll",     base_hybrid:card_hybrid) }
	thstll_background := { color_background(type:"thstll",     base_hybrid:card_hybrid) }
	onetll_background := { color_background(type:"onetll",     base_hybrid:card_hybrid) }
	
	unstable_background := { color_background(type:"unstable",     base_hybrid:card_hybrid) }
	
	chop_top := {to_number(pull_comma_array(styling.text_chops, cell:0, end:false))}
	chop_bot := {to_number(pull_comma_array(styling.text_chops, cell:1, end:false))}
	chop_correction := { chop_bot() }
	shrink_type := {if styling.shrink_typeline_text != "" then to_number(styling.shrink_typeline_text) else 0}
	shrink_name := {if styling.shrink_name_text != "" then to_number(styling.shrink_name_text) else 0}
	use_main_rarity := { contains(set.mainframe_rarity_name, match: ".png")}
	un_png := replace@(match:".png", replace: "")
	

	image_chose := {
		if styling.frames=="invention" then invention_background()
		else if styling.frames=="goldenage" then goldenage_background()
		else if styling.frames=="zendikar rising expeditions" then znr_background()
		else if styling.frames=="zendikar expeditions" then exp_background()
		else if styling.frames=="ninja" then ninja_background()
		else if styling.frames=="samurai" then samurai_background()
		else if styling.frames=="phyrexian" then phyrexian_background()
		else if styling.frames=="textless land(zendikar)" then zdktll_background()
		else if styling.frames=="textless land(innistrad)" then instll_background()
		else if styling.frames=="textless land(theros)" then thstll_background()
		else if styling.frames=="textless land(unstable)" then unstable_background()
		else if styling.frames=="textless land(All will be one)" then onetll_background()
		else if styling.frames=="dnd sourcebook" then dndsb_background()
		else if styling.frames=="etched" then etched_background()
		else if styling.frames=="equinox" then equinox_background()
		else if styling.frames=="magicfest" then magicfest_background()
		else if styling.frames=="artdeco" then artdeco_background()
		else if styling.frames=="fang" then fang_background()
		else if styling.frames=="skyscraper" then skyscraper_background()
		else if styling.frames=="ravnica" then ravnica_background()
		else if styling.frames=="ixalan" then ixalan_background()
		else if styling.frames=="tarkir" then tarkir_background()
		else if styling.frames=="crystal" then crystal_background()
		else if styling.frames=="invocation" then invocation_background()
		else if styling.frames=="ring" then ring_background()
		else if styling.frames=="tardis" then tardis_background()
		else if styling.frames=="glass" then glass_background()
		else if styling.frames=="mystical archive" then archive_background()
		else if styling.frames=="storybook" then storybook_background()
		else if styling.frames=="storybook adventure" then storyadv_background()
		else if styling.frames=="tale" then tale_background()
		else if styling.frames=="pipboy" then pipboy_background()
		else if styling.frames=="neon" and is_vehicle() and chosen(choice:"colorless", card.card_color) then "neon/voverlay.png"
		else if styling.frames=="neon" then if (is_rare() and styling.use_holofoil_stamps) then neon_background() else neon_background2()
		else ""
	}
	
	frame_mask_chose := {
		if contains(styling.custom_mask, match:".png") then invert_image("custom-mask/" + styling.custom_mask)
		if styling.frames=="invention" then "invention/frame_mask.png"
		else if styling.frames=="goldenage" then "goldenage/frame_mask.png"
		else if styling.frames=="zendikar rising expeditions" then "expedition/znr/frame_mask.png"
		else if styling.frames=="zendikar expeditions" then "expedition/exp/frame_mask.png"
		else if styling.frames=="neon" then "neon/frame_mask.png"
		else if styling.frames=="ninja" then "ninja/frame_mask.png"
		else if styling.frames=="samurai" then "samurai/frame_mask.png"
		else if styling.frames=="textless land(zendikar)" then "tll/zdk/frame_mask.png"
		else if styling.frames=="textless land(innistrad)" then "tll/ins/frame_mask.png"
		else if styling.frames=="textless land(theros)" then "tll/ths/frame_mask.png"
		else if (styling.frames=="textless land(All will be one)" and is_ub()) then "tll/one/ub/frame_mask.png"
		else if styling.frames=="textless land(All will be one)" then "tll/one/frame_mask.png"
		else if styling.frames=="dnd sourcebook" then "sourcebook/frame_mask.png"
		else if styling.frames=="textless land(unstable)" then "unstable/frame_mask.png"
		else if styling.frames=="etched" then "etched/frame_mask.png"
		else if styling.frames=="equinox" then "equinox/frame_mask.png"
		else if styling.frames=="magicfest" then "magicfest/frame_mask.png"
		else if styling.frames=="artdeco" then "artdeco/frame_mask.png"
		else if styling.frames=="skyscraper" then "skyscraper/frame_mask.png"
		else if styling.frames=="fang" then "fang/frame_mask.png"
		else if styling.frames=="ravnica" then "ravnica/frame_mask.png"
		else if styling.frames=="ixalan" then "ixalan/frame_mask.png"
		else if styling.frames=="mystical archive" then "archive/frame_mask.png"
		else if styling.frames=="tarkir" then "tarkir/frame_mask.png"
		else if styling.frames=="crystal" and (is_rare() and styling.use_holofoil_stamps) then "crystal/frame_mask.png"
		else if styling.frames=="crystal" then "crystal/back/frame_mask.png"
		else if styling.frames=="invocation" then "invocation/frame_mask.png"
		else if styling.frames=="ring" then "ring/frame_mask.png"
		else if styling.frames=="tardis" then "tardis/frame_mask.png"
		else if styling.frames=="glass" then "glass/frame_mask.png"
		else if styling.frames=="storybook" then "storybook/frame_mask.png"
		else if styling.frames=="storybook adventure" then "storybook/adventure/frame_mask.png"
		else if styling.frames=="tale" then "tale/frame_mask.png"
		else if styling.frames=="pipboy" then "pipboy/frame_mask.png"
		else "frame_mask.png"
	}
	
	pt_box_chose := {
		if styling.frames=="invention" then "invention/pt.png"
		else if styling.frames=="goldenage" then "goldenage/pt.png"
		else if styling.frames=="dnd sourcebook" then "sourcebook/pt.png"
		else if styling.frames=="tardis" then "tardis/pt.png"

		else if styling.frames=="neon" and is_vehicle() then "neon/pt/vpt.png"

		else if styling.frames=="etched" then etched_pt_background()
		else if styling.frames=="equinox" then equinox_pt_background()
		else if styling.frames=="artdeco" then artdeco_pt_background()
		else if styling.frames=="fang" then fang_pt_background()
		else if styling.frames=="ravnica" then ravnica_pt_background()
		else if styling.frames=="mystical archive" then archive_pt_background()
		else if styling.frames=="ixalan" then ixalan_pt_background()
		else if styling.frames=="tarkir" then tarkir_pt_background()
		else if styling.frames=="crystal" then crystal_pt_background()
		else if styling.frames=="invocation" then "invocation/pt.png"
		else if styling.frames=="ring" then ring_pt_background()
		else if styling.frames=="glass" then glass_pt_background()
		else if styling.frames=="storybook" or styling.frames=="storybook adventure" then storybook_pt_background()
		else if styling.frames=="tale" then tale_pt_background()
		else if styling.frames=="pipboy" then "pipboy/pt.png"
		else card_ptbox()
	}
	
	img_set := { 
			 if styling.frames=="invention" then "30,30,691,939"
		else if styling.frames=="goldenage" then "48,54,654,941"
		else if styling.frames=="zendikar rising expeditions" then "30,114,692,742"
		else if styling.frames=="zendikar expeditions" then "56,116,638,735"
		else if styling.frames=="neon" then "28,40,695,923"
		else if styling.frames=="ninja" then "30,118,692,464"
		else if styling.frames=="samurai" then "30,132,692,462"
		else if styling.frames=="dnd sourcebook" then "30,115,690,476"
		else if styling.frames=="equinox" then "56.5,57,642,913"
		else if styling.frames=="magicfest" then "46,52,658,907"
		else if styling.frames=="textless land(zendikar)" then "56,116,638,735"
		else if styling.frames=="textless land(innistrad)" then "28,30,693,946"
		else if styling.frames=="textless land(theros)" then "28,30,693,946"
		else if styling.frames=="textless land(All will be one)" then "28,30,693,946"
		else if styling.frames=="textless land(unstable)" then "0,0,750,975"
		else if styling.frames=="artdeco" then "33,99,684,488"
		else if styling.frames=="skyscraper" then "67,118,616,465"
		else if styling.frames=="fang" then "59.5,117,631,464"
		else if styling.frames=="ravnica" then "54,118.5,641,465"
		else if styling.frames=="mystical archive" then "0,127,750,785"
		else if styling.frames=="ixalan" then "60.5,115,630,465"
		else if styling.frames=="tarkir" then "66,116,617.5,464"
		else if styling.frames=="crystal" and (is_rare() and styling.use_holofoil_stamps) then "0,0,750,970"
		else if styling.frames=="crystal" then "30,30,690,940"
		else if styling.frames=="invocation" then "86,156,577,411"
		else if styling.frames=="ring" then "74, 125.5, 602, 460"
		else if styling.frames=="tardis" then "57.5, 132, 635.5, 449"
		else if styling.frames=="glass" then "30, 116.5, 690, 468"
		else if styling.frames=="storybook" or styling.frames=="storybook adventure" then "28, 31, 698, 578"
		else if styling.frames=="tale" then "0, 56, 750, 910"
		else if styling.frames=="pipboy" then "57,133.5,635,431"
		else "56,117,638,468"
	}
	
	img_left := {to_number(pull_comma_array(img_set(), cell:0, end:false))}
	img_top := {to_number(pull_comma_array(img_set(), cell:1, end:false))}
	img_width := {to_number(pull_comma_array(img_set(), cell:2, end:false))}
	img_height := {to_number(pull_comma_array(img_set(), cell:3, end:false))}

	hover_art_fix_top := {to_number(pull_comma_array(styling.hover_art_fix, cell:0, end:false))}
	hover_art_fix_bot := {to_number(pull_comma_array(styling.hover_art_fix, cell:1, end:false))}
	
	stamp_img_set := {
		if styling.frames=="glass" then "341.5,963,67,33.5"
		else if styling.frames=="etched" then "315,951.5,120,47.5"
		else if styling.frames=="tardis" then "331,954.5,88,40"
		else if styling.frames=="ring" then "322,946.5,106,47.5"
		else if styling.frames=="textless land(All will be one)" then "322,948.5,106,47.5"
		else if styling.frames=="invocation" then "322,937,106,62"
		else if styling.frames=="tarkir" then "319,944,112.5,50.5"
		else if styling.frames=="ixalan" then "330.5,948,88.5,50.5"
		else if styling.frames=="mystical archive" then "330,956,93,39"
		else if styling.frames=="ravnica" then "328.5,943,93.5,48"
		else if styling.frames=="magicfest" then "329.5,944.5,91,53.5"
		else if styling.frames=="samurai" then "327,947,98,49"
		else if styling.frames=="storybook" or styling.frames=="storybook adventure" then "339.5, 958.5, 74, 40.5"
		else if styling.frames=="pipboy" then "340,959.5,70,39"
		else "327,947,96,49"
	}
	stamp_img_left := {to_number(pull_comma_array(stamp_img_set(), cell:0, end:false))}
	stamp_img_top := {to_number(pull_comma_array(stamp_img_set(), cell:1, end:false))}
	stamp_img_width := {to_number(pull_comma_array(stamp_img_set(), cell:2, end:false))}
	stamp_img_height := {to_number(pull_comma_array(stamp_img_set(), cell:3, end:false))}



	#####编号位置####
	is_serialized := { chosen(styling.others, choice:"serialized") }
	serialized_img_set := {
		if styling.frames== "invention" then "78,516"
		else if styling.frames=="mystical archive" then "57,510"
		else if styling.frames=="equinox" then "55,513"
		else if styling.frames=="neon" then "47.5,500"
		else if styling.frames=="goldenage" then "71,516"
		else if styling.frames=="glass" then "48.5, 516"
		else if styling.frames=="ravnica" then "56, 506"
		else if styling.frames=="ixalan" then "60, 510"
		else if styling.frames=="tarkir" then "48, 516"
		else if styling.frames=="crystal" then "48,503"
		else if styling.frames=="storybook" or styling.frames=="storybook adventure" then "74,500"
		else "67,516"
	}
	serialized_img_left := {to_number(pull_comma_array(serialized_img_set(), cell:0, end:false))}
	serialized_img_top := {to_number(pull_comma_array(serialized_img_set(), cell:1, end:false))}




	
	# d20
	is_d20 := {styling.d20_dividers != "off"}
	is_all_break := {contains(styling.d20_dividers, match:"all breaks")}
	d20string := "^(<b>)?(((</sym>)?[-0-9 ,+>\<](<sym>)?)+|[Ee]lse|[Oo]ther) ?(</b>)?[|]"
	d20_array := 
		filter_text@(match:"(\n|"+d20string+")")
		+split_text@(match:d20string)
	number_of_rolls := {if is_all_break() then 1+length(filter_text(card.rule_text, match:"\n"))-rolls_start(card.text) else length(d20_array(input))-1}
	rolls_start := {
		if styling.d20_dividers == "all breaks +3" then 4
		else if styling.d20_dividers == "all breaks +2" then 3
		else if styling.d20_dividers == "all breaks +1" then 2
		else if styling.d20_dividers == "all breaks" then 0
		else if is_d20() then length(d20_array(input).0)
		else 0
	}
	d20_filter := replace@(match:"^([Ee]lse ?|[Oo]ther ?|((</sym>)?[-0-9 ,+>\<](<sym>)?)+)[|]", replace:"<b>\\1</b>|")

	#"

	top_of_para := {
		input := input + no_roll(card.text)
		if card_style.text.layout.paragraphs[input].top or else 0 > 0 then
			card_style.text.top + card_style.text.layout.paragraphs[input].top - 0.5*(card_style.text.layout.paragraphs[input].top-card_style.text.layout.paragraphs[input-1].bottom)
		else 0
	}
	height_of_para := {
		input := input + no_roll(card.text)
		if card_style.text.layout.paragraphs[input].bottom or else 0 > 0 then
			card_style.text.layout.paragraphs[input].bottom + 1.3*(card_style.text.layout.paragraphs[input].top-card_style.text.layout.paragraphs[input-1].bottom) - card_style.text.layout.paragraphs[input].top
		else 0
	}
	no_roll := {if styling.d20_dividers == "all breaks" then 1 else if rolls_start(input) == 0 then 1 else 0}
	text_filter := text_filter + d20_filter + {input}
	overlay1 := {if is_d20() then "d20slice.png" else slice_crop(background_slide(), height: lv_2_height(), width:630, distance:(152-lv_2_coordinate()))}
	overlay2 := {if is_d20() then "d20slice.png" else slice_crop(background_slide_2(), height: lv_3_height(), width:630, distance:lv_3_height())}
	overlay3 := {if is_d20() then "d20slice.png" else slice_crop(background_slide_3(), height: lv_4_height(), width:630, distance:lv_4_height())}
############################################################## Set info fields
set info style:
	symbol:
		variation:
			name: invertedcommon
			border radius: 0.10
			fill type: solid
			fill color:   rgb(255,255,255)
			border color: rgb(0,0,0)
############################################################## Extra style options
styling field:
	type: text
	name: text chops
	description: Format as "X,Y". Shrinks textbox X pixels from the top and Y from bottom.
styling field:
	type: text
	name: shrink name text
	description: Shrinks name X pixels
styling field:
	type: text
	name: shrink typeline text
	description: Shrinks type X pixels
styling field:
	type: text
	name: shrink power text
	description: Shrinks power X pixels
styling field:
	type: text
	name: font cap
	description: 所有规则文本框的字体大小，默认为28。
styling field:
	type: choice
	name: frames
	description: 使用边框
	choice: etched

	choice: invention

	choice: zendikar rising expeditions
	choice: zendikar expeditions

	choice: phyrexian

	choice: mystical archive

	choice: dnd sourcebook

	choice: equinox
	choice: fang
	choice: magicfest

	choice: neon
	choice: ninja
	choice: samurai

	choice: goldenage
	choice: artdeco
	choice: skyscraper

	choice: glass

	choice: ravnica
	choice: ixalan
	choice: tarkir
	choice: crystal

	choice: storybook
	choice: storybook adventure
	choice: tale

	choice: invocation

	choice: ring
	choice: tardis
	choice: pipboy

	choice: textless land(zendikar)
	choice: textless land(innistrad)
	choice: textless land(theros)
	choice: textless land(unstable)
	choice: textless land(All will be one)
	initial: etched
styling field:
	type: choice
	name: d20 dividers
	choice: d20 mode
	choice: off
	choice: all breaks
	choice: all breaks +1
	choice: all breaks +2
	choice: all breaks +3
	description: 正常地d20分隔，关闭，每一段隔断，在除第一段以外每一段隔断，等等。
styling field:
	type: text
	name: hover art fix
	description: dnd法术书出框上下调整, Format as "X,Y". 向上 X 像素向下 Y 像素.
styling field:
	type: text
	name: custom mask
	description: Uses a custom mask from data\magic-m15-showcase-mixed-HD.mse-style\custom-mask\


styling field:
	type: multiple choice
	name: others
	description: 其它选项
	choice: hover art
	choice: magicfest hide type and rarity
	choice: original background
	choice: universe beyond(For some frames)
	choice: use phyrexian font
	choice: serialized
styling field:
	type: text
	name: shrink adventure name text
	description: 历险牌牌名字体大小
styling field:
	type: text
	name: font cap extra
	description: 额外文本框的字体大小。（试作大小默认为22.25，历险默认为26，合变默认为28）
styling field:
	type: boolean
	name: use holofoil stamps
	description: Change to no to disable rare holofoil stamps
styling field:
	type: boolean
	name: center name
	description: 牌名居中？
	initial: no
styling field:
	type: boolean
	name: is foil
	description: 是否为闪卡？
	initial: no
styling field:
	type: boolean
	name: color indicator dot
	description: Use the color indicator dot
	initial: no
styling field:
	type: boolean
	name: remove from autocount
	description: Removes the automatic card number for specific cards, to allow for overcounted cards like in Planeswalker Decks.
	initial: no
styling field:
	type: boolean
	name: grey hybrid name
	description: Use a grey background for the name and type line on hybrid cards. This is done on real cards.
styling field:
	type: boolean
	name: unsorted casting cost
	description: Disables automatic mana symbol sorting.
	initial: no
styling field:
	type: boolean
	name: ancestral mana symbols
	description: Enables ancestral's modified generic mana.'
	initial: no
styling field:
	type: boolean
	name: colored multicolor land name
	description: Use a colored background for the name and type on multicolor land cards with a basic land type. This is done on real cards.
styling field:
	type: boolean
	name: use guild mana symbols
	description: Use the Ravnica guild symbols instead of the official half/half circles for hybrid mana.
	initial: no
styling field:
	type: choice
	name: tap symbol
	description: What tap and untap symbols should be used on cards?
	initial: modern
	choice: modern
	choice: old
	choice: diagonal T
styling field:
	type: package choice
	name: text box mana symbols
	match: magic-mana-*.mse-symbol-font
	initial: magic-mana-small.mse-symbol-font
styling field:
	type: choice
	name: center text
	description: When to center text (short text only means only on one-line cards with no flavor text)
	choice: always
	choice: short text only
	choice: never
	initial: never
styling field:
	type: boolean
	name: promo
	description: Is this card a promo card, with the "P" rarity?
	initial: no
styling field:
	type: boolean
	name: masterpiece
	description: Is this card a Masterpiece?
	initial: no
styling field:
	type: boolean
	name: inverted common symbol
	description: Should the common rarity symbol be inverted, like in Coldsnap?
	initial: no
styling field:
	type: package choice
	name: overlay
	description: Should there be an overlay applied, such as foil?
	match: magic-overlay-*.mse-include
	required: false
styling style:
	use guild mana symbols:
		choice images:
			yes: /magic-mana-small.mse-symbol-font/mana_guild_rg.png
			no:  /magic-mana-small.mse-symbol-font/mana_rg.png
	tap symbol:
		render style: both
		choice images:
			modern:     /magic-mana-large.mse-symbol-font/mana_t.png
			old:        /magic-mana-large.mse-symbol-font/mana_t_old.png
			diagonal T: /magic-mana-large.mse-symbol-font/mana_t_older.png
	center text:
		render style: both
		choice images:
			always:          /magic.mse-game/icons/center-all-text.png
			short text only: /magic.mse-game/icons/center-short-text.png
			never:           /magic.mse-game/icons/center-no-text.png
	inverted common symbol:
		choice images:
			no:  { symbol_variation(symbol: set.symbol, variation: "common") }
			yes: { symbol_variation(symbol: set.symbol, variation: "invertedcommon") }
	others:
		render style: checklist
		direction: vertical
styling field:
	type: choice
	name: CHNFlavorsize
	initial: 25
	choice:	20
	choice:	20.33
	choice:	20.67
	choice:	21
	choice:	21.33
	choice:	21.67
	choice:	22
	choice:	22.33
	choice:	22.67
	choice:	23
	choice:	23.33
	choice:	23.67
	choice:	24
	choice:	24.33
	choice:	24.67
	choice:	25
	choice:	25.33
	choice:	25.67
	choice:	26
	choice:	26.33
	choice:	26.67
	choice:	27
	choice:	27.33
	choice:	27.67
	choice:	28
	choice:	28.33
	choice:	28.67
	choice:	29
	choice:	29.33
	choice:	29.67
	choice:	30
	choice:	30.33
	choice:	30.67
	choice:	31
	choice:	31.33
	choice:	31.67
	choice:	32
	choice:	32.33
	choice:	32.67
	choice:	33
	choice:	33.33
	choice:	33.67
	choice:	34
############################################################## Cards fields
card style:
	############################# Background stuff
	card color:
		left:	0
		top:	0
		width: 750
		height: 1050
		z index: 1
		render style: image
		popup style: in place
		image: { image_chose() }
		mask: { frame_mask_chose() }

	card color 2:
		left: { if styling.frames=="storybook adventure" then 43 else  0 }
		top:  { if styling.frames=="storybook adventure" then 642 else  0 }
		width: { if styling.frames=="storybook adventure" then 333.5 else  0 }
		height: { if styling.frames=="storybook adventure" then 342 else  0 }
		render style: image
		popup style: in place
		image: {storyadv_lp_background()}
		z index: 1
		visible: {styling.frames=="storybook adventure"}
	############################# Name line
	name:
		left: {if styling.frames=="equinox" then 74 else 64}
		top: 
			script:
				(if chosen(styling.others, choice:"use phyrexian font") then shrink_name()/2 else 0) + (if set.card_language != "简体中文" then 4 else 0) +
				if styling.frames=="textless land(unstable)" then 10 
				else if styling.frames=="dnd sourcebook" or styling.frames=="goldenage" then 60
				else if styling.frames=="equinox" then 61
				else if styling.frames=="invention" then 64 
				else if styling.frames=="samurai" then 74 
				else if styling.frames=="tarkir" then 55
				else if styling.frames=="ring" then 64
				else if styling.frames=="storybook" or styling.frames=="storybook adventure" then 59
				else 57
		right:  { if styling.frames=="textless land(unstable)" and styling.center_name then 686 else (682 - max(30, card_style.casting_cost.content_width)) }
		height: {46 - 0.5*shrink_name()}
		alignment: { if chosen(styling.others, choice:"use phyrexian font") then "top shrink-overflow" else if styling.center_name then "bottom center shrink-overflow" else "bottom shrink-overflow"} 
		padding bottom: 0
		z index: 4
		font:
			name: { if chosen(styling.others, choice:"use phyrexian font") then "Phi_horizontal_gbrsh_3.0" else if(styling.frames=="tardis" and set.card_language != "简体中文") then "Gill Sans" else if set.card_language != "简体中文" then "Beleren Bold" else "华康魏碑 Std W7"}
			size: { if set.card_language != "简体中文" then 32 - shrink_name() else 34 - shrink_name()}
			color:
				script:
					if styling.frames=="crystal" or styling.frames=="pipboy" or styling.frames=="glass" or styling.frames=="tardis" or styling.frames=="ring" or styling.frames=="ixalan" or styling.frames=="skyscraper" or styling.frames=="artdeco" or styling.frames=="magicfest" or styling.frames=="goldenage" or styling.frames=="neon" or styling.frames=="ninja" or styling.frames=="samurai" or styling.frames=="textless land(innistrad)" or styling.frames=="textless land(unstable)" or styling.frames=="etched" then "white"
					else "black"
	
	casting cost:
		right: { if styling.frames=="fang" then 684 else if styling.frames=="equinox" then 688 else if styling.frames=="invention" or styling.frames=="goldenage" then 684 else 692}
		top: 
			script:
				if styling.frames=="textless land(unstable)" then 10 
				else if styling.frames=="invention" then 64 
				else if styling.frames=="goldenage" or styling.frames=="dnd sourcebook" or styling.frames=="equinox" then 61 
				else if styling.frames=="magicfest" then 59
				else if styling.frames=="samurai" then 74
				else if styling.frames=="artdeco" then 59
				else if styling.frames=="ring" then 64
				else if styling.frames=="tardis" then 61
				else if styling.frames=="storybook" or styling.frames=="storybook adventure" then 59
				else if styling.frames=="pipboy" then 59
				else 57
		width: { max(60, card_style.casting_cost.content_width) + 10 }
		height: 46
		alignment: middle right
		font:
			name: MPlantin
			size: 30
		symbol font:
			name: {if styling.frames=="mystical archive" then "magic-mana-small-strixhaven" else "magic-mana-large"}
			size: 30
			alignment: middle right
		always symbol: true
		z index: 5
		padding top: 0


	name 2:
		left: {if styling.frames=="storybook adventure" then 64 else 0 }
		top: {(if styling.frames=="storybook adventure" then if set.card_language != "简体中文" then 666 else 660 else 0)}
		right: { if styling.frames=="storybook adventure" then (356 - max(40, card_style.casting_cost_2.content_width)) else 0 }
		height: { if styling.frames=="storybook adventure" then (40 - 0.5*shrink_adventure_name()) else 0 }
		alignment: { if chosen(styling.others, choice:"use phyrexian font") then "middle shrink-overflow" else "bottom shrink-overflow"}
		z index: 2
		font:
			name: { if chosen(styling.others, choice:"use phyrexian font") then "Phi_horizontal_gbrsh_3.0" else if set.card_language != "简体中文" then "Beleren Bold" else "华康魏碑 Std W7" }
			size: {26 - shrink_adventure_name() }
			color: white
		
	casting cost 2:
		right: {if styling.frames=="storybook adventure" then 360 else 0 }
		top: {if styling.frames=="storybook adventure" then 659 else 0 }
		width: { if styling.frames=="storybook adventure" then max(20, card_style.casting_cost_2.content_width) + 10 else 0}
		height: {if styling.frames=="storybook adventure" then 50 else 0 }
		alignment: middle right
		symbol font:
			name: magic-mana-large
			size: {if styling.frames=="storybook adventure" then 25 else 0 }
			alignment: middle right
		always symbol: true
		z index: 4
		padding top: 0

	############################# Image   else if styling.frames=="" then else
	image:
		left: { img_left() }
		top: { img_top() }
		# width: { if styling.hover_art and (styling.frames=="ixalan" or styling.frames=="dnd sourcebook") then 0 else img_width() }
		# height: { if styling.hover_art and (styling.frames=="ixalan" or styling.frames=="dnd sourcebook") then 0 else img_height() }
		width: { img_width() }
		height: { img_height() }
		
		z index: -2
		default: {default_image(card.card_color)}

	mainframe image:
		left: { 30 }
		top: { 85 + (if styling.hover_art_fix != "" then to_number(hover_art_fix_top()) else 0)}
		width: { if chosen(styling.others, choice:"hover art") then 690 else 0}
		bottom: { if chosen(styling.others, choice:"hover art") then 591 + (if styling.hover_art_fix != "" then to_number(hover_art_fix_bot()) else 0) else 0}
		z index: 1
		default: {default_image(card.card_color)}
	############################# Card type
	indicator:
		left: { if styling.frames=="invention" then 64 else 62 }
		top: { if styling.frames=="invention" then 603 else 604 }
		width: 34
		height: 34
		z index: 1
		render style: image
		visible: { has_identity() }
		image: { card_identity() }
	type:
		left: {if styling.frames=="equinox" then 74 else (if is_tll() and styling.frames!="textless land(theros)" then 1000 else 0) + (if has_identity() then 102 else 64) + (if styling.frames=="textless land(All will be one)" then 74 else 0) }
		top: 
			script:
				shrink_type()/2 + 
				(if styling.frames=="invention" then 597 
				else if styling.frames=="dnd sourcebook" then 603 
				else if (styling.frames=="zendikar rising expeditions" or styling.frames=="zendikar expeditions") then 862 
				else if styling.frames=="textless land(theros)" then 893
				else if styling.frames=="textless land(All will be one)" then 893
				else if styling.frames=="equinox" then 598
				else if styling.frames=="tarkir" then 595
				else if styling.frames=="storybook" or styling.frames=="storybook adventure" then 599
				else if styling.frames=="tale" then 599
				else 597) +
				if chosen(styling.others, choice:"magicfest hide type and rarity") then 1000 else 0
		width: { (if has_identity() then "580" else "610") - max(44,card_style.rarity.content_width) - (if styling.frames=="textless land(All will be one)" then 74 else 0)}
		height: { 40 - shrink_type() }
		alignment: top shrink-overflow
		z index: 2
		padding top: 2
		font:
			name: { if chosen(styling.others, choice:"use phyrexian font") then "Phi_horizontal_gbrsh_3.0" else if(styling.frames=="tardis" and set.card_language != "简体中文") then "Gill Sans" else if set.card_language != "简体中文" then "Beleren Bold" else "华康魏碑 Std W7" }
			size: { if set.card_language != "简体中文" then 26 - shrink_type() else 32 - shrink_type() }
			color:
				script:
					if styling.frames=="crystal" or styling.frames=="pipboy" or styling.frames=="glass" or styling.frames=="tardis" or styling.frames=="ring" or styling.frames=="ixalan" or styling.frames=="artdeco" or styling.frames=="goldenage" or styling.frames=="neon" or styling.frames=="ninja" or styling.frames=="samurai" or styling.frames=="textless land(innistrad)" or styling.frames=="textless land(unstable)"  or styling.frames=="etched" then "white"
					else "black"
			separator color: red
	super type:
		left: { (if is_tll() then 0 else 1000)+ (if has_identity() then 102 else 64) }
		top: { shrink_type() + 862 + (if set.card_language != "简体中文" then 2 else 0) - (if chosen(styling.others, choice:"use phyrexian font") then shrink_type()/2 else 0)}
		width: { (if has_identity() then "280" else "310") - max(44,card_style.rarity.content_width) }
		height: { 40 - shrink_type() }
		alignment: top shrink-overflow
		z index: 2
		padding top: 2
		font:
			name: { if chosen(styling.others, choice:"use phyrexian font") then "Phi_horizontal_gbrsh_3.0" else if set.card_language != "简体中文" then "Beleren Bold" else "华康魏碑 Std W7" }
			size: { if set.card_language != "简体中文" then 26 - shrink_type() else 32 - shrink_type() }
			color: {if styling.frames=="goldenage" or styling.frames=="neon" or styling.frames=="ninja" or styling.frames=="samurai" or styling.frames=="textless land(innistrad)" then "white" else "black"}
			separator color: red
	sub type:
		left: { (if is_tll() then 425 else 1000)+ 64 }
		top: { shrink_type() + 862 + (if set.card_language != "简体中文" then 2 else 0) - (if chosen(styling.others, choice:"use phyrexian font") then shrink_type()/2 else 0)}
		width: { card_style.sub_type.content_width + 20 }
		height: { 40 - shrink_type() }
		alignment: top shrink-overflow
		z index: 2
		padding top: 2
		font:
			name: { if chosen(styling.others, choice:"use phyrexian font") then "Phi_horizontal_gbrsh_3.0" else if set.card_language != "简体中文" then "Beleren Bold" else "华康魏碑 Std W7" }
			size: { if set.card_language != "简体中文" then 26 - shrink_type() else 32 - shrink_type() }
			color: {if styling.frames=="goldenage" or styling.frames=="neon" or styling.frames=="ninja" or styling.frames=="samurai" or styling.frames=="textless land(innistrad)" then "white" else "black"}
			separator color: red
	type 2:
		left: {if styling.frames=="storybook adventure" then 64 else 0 }
		top: {if styling.frames=="storybook adventure" then if set.card_language != "简体中文" then 708 else 710 else 0 }
		width: {if styling.frames=="storybook adventure" then 310 else 0 }
		height: { 44 - shrink_type() }
		alignment: top shrink-overflow
		z index: 2
		padding top: 2
		font:
			name: { if chosen(styling.others, choice:"use phyrexian font") then "Phi_horizontal_gbrsh_3.0" else if set.card_language != "简体中文" then "Beleren Bold" else "华康魏碑 Std W7" }
			size: { 26 - shrink_type() }
			color: white
			separator color: red


	rarity:
		right: {(if styling.frames=="storybook" or styling.frames=="storybook adventure" then 694 else if styling.frames=="equinox" then 680 else if styling.frames=="ravnica" then 694 else 688) + if styling.frames=="textless land(unstable)" then 1000 else 0 }
		top: 
			script:
				if styling.frames=="equinox" then 598
				else if styling.frames=="zendikar rising expeditions" or styling.frames=="zendikar expeditions" or is_tll() then 864 
				else if chosen(styling.others, choice:"magicfest hide type and rarity") then 1200
				else if styling.frames=="textless land(theros)" then 894
				else if styling.frames=="textless land(All will be one)" then 894
				else if styling.frames=="dnd sourcebook" then 603
				else if styling.frames=="ravnica" then 599
				else if styling.frames=="tarkir" then 595
				else if styling.frames=="storybook" or styling.frames=="storybook adventure" then 599
				else if styling.frames=="tale" then 601
				else 597
		width: 88
		height: 44
		z index: 2
		render style: image
		alignment: middle right
		include file: /magic-rarity.mse-include/rarity
		choice images:
			# Images based on the set symbol
			basic land:
				script:
					if use_main_rarity() then "/magic-mainframe-extras.mse-include/" + un_png(set.mainframe_rarity_name) + "c.png"
					else if styling.inverted_common_symbol then symbol_variation(symbol: set.symbol, variation: "invertedcommon")
					else symbol_variation(symbol: set.symbol, variation: "common")
			common:
				script:
					if use_main_rarity() then "/magic-mainframe-extras.mse-include/" + un_png(set.mainframe_rarity_name) + "c.png"
					else if styling.inverted_common_symbol then symbol_variation(symbol: set.symbol, variation: "invertedcommon")
					else symbol_variation(symbol: set.symbol, variation: "common")
			uncommon:
				script:
					if use_main_rarity() then "/magic-mainframe-extras.mse-include/" + un_png(set.mainframe_rarity_name) + "u.png"
					else symbol_variation(symbol: set.symbol, variation: "uncommon")
			rare:
				script:
					if use_main_rarity() then "/magic-mainframe-extras.mse-include/" + un_png(set.mainframe_rarity_name) + "r.png"
					else symbol_variation(symbol: set.symbol, variation: "rare")
			mythic rare:
				script:
					if use_main_rarity() then "/magic-mainframe-extras.mse-include/" + un_png(set.mainframe_rarity_name) + "m.png"
					else symbol_variation(symbol: set.symbol, variation: "mythic rare")
			special:
				script:
					if use_main_rarity() then "/magic-mainframe-extras.mse-include/" + un_png(set.mainframe_rarity_name) + "s.png"
					else symbol_variation(symbol: set.symbol, variation: "special")
			masterpiece:
				script:
					if use_main_rarity() then "/magic-mainframe-extras.mse-include/" + un_png(set.mainframe_rarity_name) + "mp.png"
					else symbol_variation(symbol: set.masterpiece_symbol, variation: "mythic rare")
	############################# Text box
	text:
		left: {( if styling.frames=="pipboy" then 58+15 else if styling.frames=="storybook adventure" then 390 else if styling.frames=="equinox" or styling.frames=="fang" then 65 else if styling.frames=="phyrexian" then 63 else 58) + (if is_tll() or styling.frames=="textless land(theros)" or styling.frames=="textless land(All will be one)" or styling.frames=="magicfest" then 1000 else 0) }
		top: { ( if styling.frames=="storybook adventure" then 654 else if styling.frames=="zendikar rising expeditions" then 595 else if styling.frames=="zendikar expeditions" then 625 else 660 ) +chop_top() }
		width: { if styling.frames=="pipboy" then 636-32 else if styling.frames=="storybook adventure" then 318-8 else if styling.frames=="equinox" or styling.frames=="fang" then 621 else if styling.frames=="phyrexian" then 623 else 636 }
		bottom: {( if styling.frames=="zendikar rising expeditions" then 856 else if styling.frames=="zendikar expeditions" then 850 else if styling.frames=="ninja" or styling.frames=="samurai" then 950 else if styling.frames=="phyrexian" then 960 else 970 ) - chop_bot() }
		font:
			name: { if chosen(styling.others, choice:"use phyrexian font") then "Phi_horizontal_gbrsh_3.0" else if set.card_language != "简体中文" then "MPlantin" else "方正细等线_GBK_FIX" }
			italic name: { if chosen(styling.others, choice:"use phyrexian font") then "Phi_horizontal_gbrsh_3.0" else if set.card_language != "简体中文" then "MPlantin-Italic" else "Magic华文楷体" }
			size: {if styling.font_cap != "" then to_number(styling.font_cap) else 28 }
			scale down to: 6
			color: {if styling.frames=="tale" or styling.frames=="crystal" or styling.frames=="pipboy" or styling.frames=="glass" or styling.frames=="tardis" or styling.frames=="tarkir" or styling.frames=="ixalan" or styling.frames=="goldenage" or styling.frames=="neon" or styling.frames=="ninja" or styling.frames=="samurai" or styling.frames=="etched" or styling.frames=="textless land(unstable)" then "white" else "black"}
		symbol font:
			name: { styling.text_box_mana_symbols }
			size: {if styling.font_cap != "" then to_number(styling.font_cap) else 28 }
			scale down to: 6
		alignment:
			script:
				if (styling.center_text == "short text only" and
				   not contains(match:"\n", card.rule_text) and
				   card.flavor_text == "<i-flavor></i-flavor>" and
				   card_style.text.content_lines <= 2) or
				   styling.center_text == "always"
				then "middle center"
				else "middle left"
		z index: 4
		padding left: {if styling.frames=="phyrexian" then 14 else 6}
		padding right:  4
		line height hard: {if is_modal(card.rule_text) then 0.9 else 1.1 }
		line height line: 1.5
		line height soft: 0.9
		line height hard max: {if is_modal(card.rule_text) then 1.0 else 1.2 }
		line height line max: 1.6
	text 2:
		left: {if styling.frames=="storybook adventure" then 58 else 0}
		top: { if styling.frames=="storybook adventure" then 765 else 0 }
		width: { if styling.frames=="storybook adventure" then 314 else 0 }
		bottom: { 960-chop_bot() }
		font:
			name: {if chosen(styling.others, choice:"use phyrexian font") then "Phi_horizontal_gbrsh_3.0" else  if set.card_language != "简体中文" then "MPlantin" else "方正细等线_GBK_FIX" }
			italic name: { if chosen(styling.others, choice:"use phyrexian font") then "Phi_horizontal_gbrsh_3.0" else if set.card_language != "简体中文" then "MPlantin-Italic" else "Magic华文楷体" }
			size: {if styling.font_cap_extra != "" then to_number(styling.font_cap_extra) else 26 }
			scale down to: 6
			color: black
		symbol font:
			name: { styling.text_box_mana_symbols }
			size: {if styling.font_cap_extra != "" then to_number(styling.font_cap_extra)-2 else 26 }
		alignment:
			script:
				if (styling.center_text == "short text only" and
				   not contains(match:"\n", card.rule_text) and
				   card.flavor_text == "<i-flavor></i-flavor>" and
				   card_style.text.content_lines <= 2) or
				   styling.center_text == "always"
				then "middle center"
				else "middle left"
		z index: 4
		padding left:   6
		padding right:  4
		line height hard: 1.2
		line height line: 1.5
		line height soft: 0.9
		line height hard max: 1.2
		line height line max: 1.6

	watermark:
		left: { if styling.frames=="textless land(All will be one)" then 36 else if is_tll() then 317 else if styling.frames=="textless land(theros)" or styling.frames=="magicfest" then 1000 else 50 }
		top: { (if styling.frames=="textless land(All will be one)" then 888 else if styling.frames=="zendikar rising expeditions" then 605 else if styling.frames=="zendikar expeditions" then 630 else if is_tll() then 825 else 676) -8}
		width: {if styling.frames=="textless land(All will be one)" then 75 else if is_tll() then 118 else 650}
		height: { if styling.frames=="textless land(All will be one)" then 75 else if styling.frames=="zendikar rising expeditions" then 245 else if styling.frames=="zendikar expeditions" then 220 else if is_tll() then 118 else 278 }
		z index: 2
		render style: image
		popup style: in place
		alignment: middle center
		include file: /magic-watermarks.mse-include/watermarks
	############################# PT

	#祝愿
	power:
		z index: 5
		left:	{if styling.frames=="invocation" then 646.5 else 1000}
		top:	{if styling.frames=="invocation" then 861 else 2000}
		width:	{if styling.frames=="invocation" then 46.5 else 0}
		height:	{if styling.frames=="invocation" then 70 else 0}
		alignment: center middle shrink-overflow
		font:
			name: Beleren Bold
			size: 32
			color: black
	toughness:
		z index: 5
		left:	{if styling.frames=="invocation" then 646.5 else 1000}
		top:	{if styling.frames=="invocation" then 911 else 2000}
		width:	{if styling.frames=="invocation" then 46.5 else 0}
		height:	{if styling.frames=="invocation" then 70 else 0}
		alignment: center middle shrink-overflow
		font:
			name: Beleren Bold
			size: 32
			color: black

	pt:
		z index: 5
		left: { if styling.frames=="tale" then 590 else if styling.frames=="storybook" or styling.frames=="storybook adventure" then 589 else if styling.frames=="tardis" then 584 else if styling.frames=="invocation" then 1000 else if styling.frames=="ixalan" then 585 else if styling.frames=="artdeco" or styling.frames=="ravnica" then 588.5 else if styling.frames=="goldenage" then 582 else 586}
		top:  { if styling.frames=="tardis" then 934 else if styling.frames=="invocation" then 2000 else if styling.frames=="artdeco" then 932 else if styling.frames=="goldenage" then 935 else if styling.frames=="ninja" or styling.frames=="equinox" then 934 else if styling.frames=="samurai" then 940 else 936}
		width: 120
		height:	56
		alignment: center middle shrink-overflow
		font:
			name: { if chosen(styling.others, choice:"use phyrexian font") then "GeishaHolidayW00-Regular" else "Beleren Bold" }
			size: {(if styling.frames=="ravnica" then 30 else if styling.frames=="phyrexian" then 31 else 32) - (if styling.shrink_power_text != "" then to_number(styling.shrink_power_text) else 0)}
			color: {if styling.frames=="crystal" or styling.frames=="pipboy" or styling.frames=="glass" or styling.frames=="tardis" or styling.frames=="ring" or styling.frames=="ixalan" or styling.frames=="artdeco" or styling.frames=="goldenage" or styling.frames=="neon" or styling.frames=="ninja" or styling.frames=="samurai" or styling.frames=="etched" then "white" else "black"}
			separator color: red
	############################# Card sorting / numbering
	set code:
		left: 48
		top: {996 + if styling.frames=="storybook" or styling.frames=="storybook adventure" then 5 else 0 }
		width: 80
		height: 20
		z index: 1
		font:
			name: Magic Gotham Medium
			size: 14
			color: white
			weight: bold
	############################# Copyright stuff
	illustrator:
		left: { 80 + card_style.set_code.content_width }
		top: {995 + if styling.frames=="storybook" or styling.frames=="storybook adventure" then 5 else 0}
		width: 400
		height: 20
		z index: 1
		font:
			name: { if is_pureEN(card.illustrator) then "Beleren Small Caps Bold" else "华康魏碑 Std W7"}
			size: 14.5
			color: white
	copyright:
		right: 700
		top: { (if card.pt != "" or styling.frames=="etched" then 998 else 978 ) + if styling.frames=="storybook" or styling.frames=="storybook adventure" then 5 else 0}
		width: 280
		height: 20
		z index: 2
		visible: {not set.automatic_copyright}
		alignment: middle right shrink-overflow
		font:
			name: Matrix
			size: 14
			color: white
			weight: bold
############################################################## Extra card fields
extra card field:
	type: text
	name: card code
	save value: false
	script:
		if set.automatic_card_numbers and not styling.remove_from_autocount then
			forward_editor(prefix: rarity_code() + "<size:10>  </size>" + card_number_m15() + " ", field: card.card_code_text) 
		else
			combined_editor(field1: card.card_code_text, separator: "" + rarity_code() + "<size:10>  </size>", field2: card.custom_card_number)
extra card field:
	type: choice
	name: artist arrow
	editable: false
	save value: false
	choice: white
extra card field:
	type: choice
	name: pt box
	script: card.card_color
	editable: false
	save value: false
extra card field:
	type: multiple choice
	name: stamp
	empty choice: colorless
	choice: white
	choice: blue
	choice: black
	choice: red
	choice:
		name: green
		line below: true
	choice: artifact
	choice: land
	choice: multicolor
	choice:
		name: hybrid
		line below: true
	choice:
		name: horizontal
		type: radio
	choice:
		name: vertical
		type: radio
	choice:
		name: radial
		type: radio
	choice:
		name: diagonal
		type: radio
	choice:
		name: overlay
		type: radio
	choice:
		name: reversed
	script: card_color_filter(value)
	default: card_color(casting_cost: card.casting_cost, rules_text: card.rule_text, type: card.super_type, watermark: card.watermark, card_name: card.name)
extra card field:
	type: text
	name: auto copyright
	script: set.copyright
	save value: false
	editable: false
	show statistics: false
extra card field:
	type: choice
	name: flavor bar
	choice: bar
	editable: false
	save value: false
	show statistics: false
extra card field:
	type: choice
	name: vehicle overlay
	choice: overlay
	editable: false
	save value: false
	show statistics: false

extra card field:
	type: choice
	name: land mask
	choice: stamp
	save value: false
	editable: false
extra card field:
	type: choice
	name: stampback
	choice: stamp
	save value: false
	editable: false
extra card field:
	type: choice
	name: crown
	script: card.card_color
	editable: false
extra card field:
	type: choice
	name: vehicle overlay
	choice: overlay
	editable: false
	save value: false
	show statistics: false

extra card field:
	type: choice
	name: ravnica twins
	script: card.card_color
	editable: false



extra card field:
	type: choice
	name: level 2 overlay
	script: card.card_color
	choice: mask
	editable: false
	show statistics: false
extra card field:
	type: choice
	name: level 3 overlay
	script: card.card_color
	choice: mask
	editable: false
	show statistics: false
extra card field:
	type: choice
	name: level 4 overlay
	script: card.card_color
	choice: mask
	editable: false
	show statistics: false

extra card field:
	type: choice
	name: sourcebook color back
	script: card.card_color
	editable: false
	save value: false
extra card field:
	type: choice
	name: sourcebook fix
	choice: overlay
	editable: false
	save value: false
	show statistics: false
extra card field:
	type: text
	name: copyright2
	save value: true
	editable: true
	show statistics: false

extra card field:
	type: choice
	name: serialized
	choice: bar
	editable: false
	save value: false
	show statistics: false
extra card field:
	type: text
	name: serialized number 1
	editable: true
	show statistics: false
	save value: true

extra card style:
	card code:
		left: 48
		top: {976 + if styling.frames=="storybook" or styling.frames=="storybook adventure" then 5 else 0}
		width: 240
		height: 20
		z index: 1
		font:
			name: Magic Gotham Medium
			size: 14
			color: white
			weight: bold
	artist arrow:
		left: { 56 + card_style.set_code.content_width }
		top: {1000 + if styling.frames=="storybook" or styling.frames=="storybook adventure" then 5 else 0}
		width: 24
		height: 15
		z index: 1
		render style: image
		image: artist_arrow.png
	pt box:
		left:	{if styling.frames=="invocation" then 646.5 else if styling.frames=="tarkir" then 578.5 else if styling.frames=="mystical archive" then 566.5 else if styling.frames=="ravnica" then 576.5 else 0}
		top:	{if styling.frames=="invocation" then 861 else if styling.frames=="tarkir" then 925 else if styling.frames=="mystical archive" then 923 else if styling.frames=="ravnica" then 927.5 else 0}
		width:	{if styling.frames=="invocation" then 46.5 else if styling.frames=="tarkir" then 137 else if styling.frames=="mystical archive" then 158.5 else if styling.frames=="ravnica" then 143.5 else 750}
		height:	{if styling.frames=="invocation" then 132 else if styling.frames=="tarkir" then 75 else if styling.frames=="mystical archive" then 79.5 else if styling.frames=="ravnica" then 72.5 else 1050}
		z index: 4
		visible: { card.pt != "" }
		render style: image
		image: { pt_box_chose() }
	stamp:
		left:	{stamp_img_left()}
		top:	{stamp_img_top()}
		width:	{stamp_img_width()}
		height:	{stamp_img_height()}
		z index: 5
		visible: 
			script:
				is_rare() and styling.use_holofoil_stamps and 
				(styling.frames!="phyrexian" 
				and styling.frames!="equinox"
				and styling.frames!="crystal" 
				and styling.frames!="fang"
				and styling.frames!="tale"
				and styling.frames!="textless land(unstable)"
				and styling.frames!="dnd sourcebook")
		render style: image
		image: 
			script:
				if styling.frames=="mystical archive" then "archive/stamp.png" 
				else if styling.frames=="ravnica" then "ravnica/stamp.png" 
				else if styling.frames=="samurai" then "stamp.png"
				else if styling.frames=="ixalan" then "ixalan/stamp.png"
				else if styling.frames=="tarkir" then "tarkir/stamp.png"
				else if styling.frames=="etched" then etched_stamp_background()
				else if styling.frames=="magicfest" then magicfeststamp_background() 
				else if styling.frames=="invocation" then "invocation/stamp.png"
				else if (styling.frames=="ring" or (styling.frames=="textless land(All will be one)" and is_ub())) then "ring/stamp.png"
				else if styling.frames=="tardis" then "tardis/stamp.png"
				else if styling.frames=="glass" then "glass/stamp.png"
				else if styling.frames=="storybook" or styling.frames=="storybook adventure" then "storybook/stamp.png"
				else if styling.frames=="pipboy" then "pipboy/stamp.png"
				else "foil_stamp.png"
	crown:
		left: 0
		top: 0
		width:	750
		height:	1050
		render style: image
		image:
			script:
				if styling.frames=="fang" then fang_crown_background() 
				else if styling.frames=="artdeco" then artdeco_crown_background() 
				else if styling.frames=="etched" then etched_crown_background() 
				else if styling.frames=="magicfest" then magicfest_crown_background()
				else if styling.frames=="ravnica" then ravnica_crown_background()
				else if styling.frames=="mystical archive" then archive_crown_background()
				else if styling.frames=="phyrexian" then phyrexian_crown_background()
				else if styling.frames=="ixalan" then ixalan_crown_background()
				else if styling.frames=="tarkir" then tarkir_crown_background()
				else if styling.frames=="crystal" then crystal_crown_background()
				else if styling.frames=="ring" then ring_crown_background()
				else if styling.frames=="tardis" then tardis_crown_background()
				else if styling.frames=="glass" then glass_crown_background()
				else if styling.frames=="storybook" or styling.frames=="storybook adventure" then storybook_crown_background()
				else if styling.frames=="pipboy" then pipboy_crown_background()
				else crown_background()
		z index: 1
		visible: { is_legend() and (styling.frames=="crystal" or styling.frames=="pipboy" or styling.frames=="storybook" or styling.frames=="storybook adventure" or styling.frames=="glass" or styling.frames=="tardis" or styling.frames=="ring" or styling.frames=="tarkir" or styling.frames=="ixalan" or styling.frames=="phyrexian" or styling.frames=="mystical archive" or styling.frames=="ravnica" or styling.frames=="fang" or styling.frames=="artdeco" or styling.frames=="neon" or styling.frames=="ninja" or styling.frames=="samurai" or styling.frames=="etched" or styling.frames=="magicfest" )}

	ravnica twins:
		left: 0
		top: 0
		width:	750
		height:	1050
		render style: image
		image:{ if styling.frames=="mystical archive" then archive_twins_background() else ravnica_twins_background() }
		z index: 1
		visible: {styling.frames=="ravnica" or styling.frames=="mystical archive"}
	
	level 2 overlay:
		left: 58
		top: { if is_d20() then top_of_para(rolls_start(card.text)) else 0}
		height: { if is_d20() then height_of_para(rolls_start(card.text)) else 0}
		width: 630
		z index: 3
		render style: image
		image: {overlay1()}
		visible: {(is_d20() and number_of_rolls(card.text) > 0)}
	level 3 overlay:
		left: 58
		top: { if is_d20() then top_of_para(rolls_start(card.text)+2) else 0}
		height: { if is_d20() then height_of_para(rolls_start(card.text)+2) else 0}
		width: 630
		z index: 3
		render style: image
		image: {overlay2()}
		visible: {(is_d20() and number_of_rolls(card.text)-no_roll(card.text) > 2)}
	level 4 overlay:
		left: 58
		top: { if is_d20() then top_of_para(rolls_start(card.text)+4) else 0}
		height: { if is_d20() then height_of_para(rolls_start(card.text)+4) else 0}
		width: 630
		z index: 3
		render style: image
		image: {overlay3()}
		visible: {(is_d20() and number_of_rolls(card.text)-no_roll(card.text) > 4) }

	stampback:
		left: 332.5
		top: 954
		width: 84
		height: 20
		z index: 2
		visible: { is_rare() and styling.use_holofoil_stamps and (styling.frames=="zendikar rising expeditions" or styling.frames=="zendikar expeditions") }
		render style: image
		image: expedition/stamp_back.png
	auto copyright:
		right: 700
		top: { (if card.pt != "" or is_ub() or styling.frames=="etched" or styling.frames=="mystical archive" then 998 else 978) + if styling.frames=="storybook" or styling.frames=="storybook adventure" then 5 else 0}
		width: 280
		height: 20
		z index: 2
		alignment: middle right shrink-overflow
		visible: {set.automatic_copyright}
		font:
			name: mplantin
			size: 12
			color: white
			weight: bold

	copyright2:
		right: 700
		top: { (if is_ub() then 978 else 1111 )+ if styling.frames=="storybook" or styling.frames=="storybook adventure" then 5 else 0}
		width: 244
		height: 20
		z index: 2
		alignment: 
			script:
				if card.pt != "" then "middle left shrink-overflow"
				else "middle right shrink-overflow"
		visible: {set.automatic_copyright and is_ub()}
		font:
			name: mplantin
			size: 12
			color: white
			weight: bold

	flavor bar:
		left: 0
		top: { bar_equation() -4 }
		width: 750
		height: 7
		z index: 4
		render style: image
		image: bar.png
		visible: { card.rule_text != "" and remove_tags(card.flavor_text) != "" and set.use_flavor_bar }
	land mask:
		left: 0
		top: 0
		width:	750
		height:	1050
		z index: 1
		visible: { styling.frames=="zendikar expeditions" and chosen(choice: "land", card.card_color) }
		render style: image
		image: expedition/exp/lmask.png
	vehicle overlay:
		left: 0
		top: 0
		width:	750
		height:	1050
		render style: image
		image: {"phyrexian/voverlay.png"}
		mask: {"phyrexian/voverlay_mask.png"}
		z index: 1
		visible: {styling.frames=="phyrexian" and is_vehicle()}
		
	sourcebook color back:
		left: {if styling.frames=="ixalan" then 0 else 30}
		top: {if styling.frames=="ixalan" then 0 else 116}
		width: {if styling.frames=="ixalan" then 750 else 690}
		height:	{if styling.frames=="ixalan" then 1050 else 475}
		z index: -1
		render style: image
		image: {if styling.frames=="ixalan" then "ixalan/coinCover.png" else color_back_background()}
		visible: {styling.frames=="ixalan" or styling.frames=="dnd sourcebook" and not chosen(styling.others, choice:"original background" )}

	sourcebook fix:
		left: 0
		top: 0
		width:	750
		height:	1050
		z index: 6
		render style: image
		image: {if hover_art_fix_bot()!=0 then "" else "sourcebook/framefix.png"}
		visible: {styling.frames=="dnd sourcebook"}
	
	serialized:
		left:	{serialized_img_left()}
		top:	{serialized_img_top()}
		width:	178
		height:	55
		z index: 5
		visible: { is_serialized() }
		render style: image
		image: { "Serialized.png" }

	serialized number 1:
		left: {if is_serialized() then (serialized_img_left()+5) else 0 }
		top: {if is_serialized() then (serialized_img_top()+5) else 0 }
		width: {if is_serialized() then (178-10) else 0 }
		height: {if is_serialized() then (55-10) else 0 }
		z index: 6
		alignment: middle center
		font:
			name: {"Magic Gotham Medium"}
			size: {23}
			color: white
			weight: {"bold"}
		visible: {is_serialized()}
	